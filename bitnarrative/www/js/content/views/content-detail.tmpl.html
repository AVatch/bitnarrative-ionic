<ion-header-bar class="bar-stable">
  <button ng-click="back()" class="button button-icon icon ion-ios-arrow-left"></button>
  <h1 class="title"></h1>
  <div class="buttons">
    <button class="button button-icon icon ion-ios-star-outline"></button>
    <button class="button button-icon icon ion-ios-world-outline"></button>
    <button class="button button-icon icon ion-ios-upload-outline"></button>
    <button class="button button-icon icon ion-android-more-vertical"></button>
  </div>
</ion-header-bar>

<ion-content>

  <ion-spinner ng-if="!contentLoad" class="spinner-royal center" icon="crescent"></ion-spinner>

  <div ng-if="contentLoad" class="content-header">
    <div
      style="
        width: 100%;
        height: 450px;
        background-image: url({{content.lead_image_url}});
        background-repeat: no-repeat;
        background-position: 50% 50%;
        background-size: cover;">
    </div>

    <div class="content-header-info glass">
      <h1>{{content.title}}</h1>
      <small>{{content.domain}}</small>
    </div>

  </div>

  <div ng-if="!showingBits" class="content-container text card">
    <div ng-bind-html="content.content" style="padding:15px;"></div>
  </div>

  <div ng-if="showingBits">
    <div class="card bit-card" ng-repeat="bit in bits" style="border-left: 5px solid red;">

      <div class="bit-color"></div>
      <div class="bit-text text"><p ng-bind-html="bit.bit"></p></div>

      <div class="bit-controls">
        <div style="float: right;">
          <button class="button button-icon icon ion-ios-arrow-up"> {{bit.up_count}}</button>
          <button class="button button-icon icon ion-ios-arrow-down"> {{bit.down_count}}</button>
          <button class="button button-icon icon ion-ios-chatboxes-outline"></button>
          <button class="button button-icon icon ion-android-more-vertical"></button>
        </div>
      </div>
      
    </div>
  </div>

  <div class="spacer"></div>
  
</ion-content>

<div class="fab animated bounceIn" ng-click="toggleContentState()">
  <i ng-class="{'ion-navicon-round': !showingBits, 'ion-ios-paper-outline': showingBits}"></i>
</div>